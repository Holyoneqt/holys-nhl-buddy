!function(e){var t={};function a(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=7)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="core--loading-icon";t.registerSidenav=function(){const e=document.getElementById("nav--sidenav"),t=document.getElementById("nav--toggle");t.onclick=(()=>{console.log(e.style.width),"0px"===e.style.width?(e.style.width="200px",t.classList.replace("fa-bars","fa-times")):(e.style.width="0px",t.classList.replace("fa-times","fa-bars"))})},t.getLoadingIcon=function(e=!1){const t=document.createElement("div");t.classList.add(n);const a=document.createElement("img");return a.src="./images/loading.gif",e&&a.classList.add("core--page-centered"),t.appendChild(a),t},t.removeLoadingIcon=function(){const e=document.getElementsByClassName(n);for(let t=0;t<e.length;t++)e[t].remove()},t.createTr=function(e,t={}){t.type=t.type||"td",t.highlight=void 0===t.highlight||t.highlight;const a=document.createElement("tr");for(let n=0;n<e.length;n++){const s=document.createElement(t.type);t.colspan&&(s.colSpan=t.colspan),s.innerHTML=e[n],a.appendChild(s)}if(t.highlight&&a.children.length>1){const e=t.invertHighlight?2:0,n=t.invertHighlight?0:2;parseFloat(a.children[0].innerHTML)===parseFloat(a.children[2].innerHTML)?(a.children[0].style.color="royalblue",a.children[2].style.color="royalblue"):parseFloat(a.children[0].innerHTML)>parseFloat(a.children[2].innerHTML)?(a.children[e].style.color="green",a.children[n].style.color="orangered"):(a.children[n].style.color="green",a.children[e].style.color="orangered")}return a}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n="https://statsapi.web.nhl.com",s=`${n}/api/v1/standings`,o=`${n}/api/v1/teams`,i=`${n}/api/v1/schedule`,r=`${n}/api/v1/game`;t.SEASON_START="2018-10-03",t.SEASON_END="2019-04-06",t.getStandings=function(){return fetch(s).then(e=>e.json()).catch(e=>console.error(e))},t.getTeam=function(e){return fetch(`${o}/${e}?expand=team.stats`).then(e=>e.json()).catch(e=>console.error(e))},t.getScores=function(e,t){return fetch(`${i}?startDate=${e}&endDate=${t}`).then(e=>e.json()).catch(e=>console.error(e))},t.getSchedule=function(e,t,a){return fetch(`${i}?teamId=${e}&startDate=${t}&endDate=${a}`).then(e=>e.json()).catch(e=>console.error(e))},t.getRoster=function(e){return fetch(`${o}/${e}?expand=team.roster`).then(e=>e.json()).catch(e=>console.error(e))},t.getGame=function(e){return fetch(`${r}/${e}/feed/live`).then(e=>e.json()).catch(e=>console.error(e))},t.TEAM_NAME_SHORT={"Anaheim Ducks":"ANA","Arizona Coyotes":"ARI","Boston Bruins":"BOS","Buffalo Sabres":"BUF","Carolina Hurricanes":"CAR","Calgary Flames":"CGY","Chicago Blackhawks":"CHI","Columbus Blue Jackets":"CBJ","Colorado Avalanche":"COL","Dallas Stars":"DAL","Detroit Red Wings":"DET","Edmonton Oilers":"EDM","Florida Panthers":"FLA","Los Angeles Kings":"LAK","Minnesota Wild":"MIN","Montréal Canadiens":"MTL","Nashville Predators":"NSH","New Jersey Devils":"NJD","New York Islanders":"NYI","New York Rangers":"NYR","Ottawa Senators":"OTT","Philadelphia Flyers":"PHI","Pittsburgh Penguins":"PIT","San Jose Sharks":"SJS","St. Louis Blues":"STL","Tampa Bay Lightning":"TBL","Toronto Maple Leafs":"TOR","Vancouver Canucks":"VAN","Vegas Golden Knights":"VGK","Winnipeg Jets":"WPG","Washington Capitals":"WSH"},t.TEAM_COLORS={"Anaheim Ducks":{home:"#F47A38",away:"#B09862"},"Arizona Coyotes":{home:"#8C2633",away:"#E2D6B5"},"Boston Bruins":{home:"#FFB81C",away:"#A2AAAD"},"Buffalo Sabres":{home:"#002654",away:"#ADAFAA"},"Carolina Hurricanes":{home:"#CC0000",away:"#A2AAAD"},"Calgary Flames":{home:"#C8102E",away:"#111111"},"Chicago Blackhawks":{home:"#CF0A2C",away:"#D18A00"},"Columbus Blue Jackets":{home:"#002654",away:"#A4A9AD"},"Colorado Avalanche":{home:"#6F263D",away:"#A2AAAD"},"Dallas Stars":{home:"#006847",away:"#8F8F8C"},"Detroit Red Wings":{home:"#CE1126",away:"#A2AAAD"},"Edmonton Oilers":{home:"#041E42",away:"#FF4C00"},"Florida Panthers":{home:"#C8102E",away:"#B9975B"},"Los Angeles Kings":{home:"#111111",away:"#A2AAAD"},"Minnesota Wild":{home:"#154734",away:"#DDCBA4"},"Montréal Canadiens":{home:"#AF1E2D",away:"#192168"},"Nashville Predators":{home:"#FFB81C",away:"#A2AAAD"},"New Jersey Devils":{home:"#154734",away:"#A2AAAD"},"New York Islanders":{home:"#00539B",away:"#A2AAAD"},"New York Rangers":{home:"#0038A8",away:"#A2AAAD"},"Ottawa Senators":{home:"#E31837",away:"#C69214"},"Philadelphia Flyers":{home:"#F74902",away:"#A2AAAD"},"Pittsburgh Penguins":{home:"#000000",away:"#CFC493"},"San Jose Sharks":{home:"#006D75",away:"#A2AAAD"},"St. Louis Blues":{home:"#002F87",away:"#A2AAAD"},"Tampa Bay Lightning":{home:"#002868",away:"#A2AAAD"},"Toronto Maple Leafs":{home:"#003E7E",away:"#A2AAAD"},"Vancouver Canucks":{home:"#001F5B",away:"#99999A"},"Vegas Golden Knights":{home:"#333F42",away:"#B4975A"},"Winnipeg Jets":{home:"#041E42",away:"#8E9090"},"Washington Capitals":{home:"#C8102E",away:"#A2AAAD"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GameArrayHelper=class{constructor(e){this.initialGames=e.map(e=>e.games[0]),this.selectedGames=[...this.initialGames]}select(){const e=[...this.selectedGames];return this.selectedGames=[...this.initialGames],e}all(){return this.selectedGames=[...this.initialGames],this}final(){return this.selectedGames=this.selectedGames.filter(e=>"Final"===e.status.detailedState),this}ofPastDays(e){const t=new Date((new Date).setTime((new Date).getTime()-864e5*e));return this.selectedGames=this.selectedGames.filter(e=>new Date(e.gameDate).getTime()>t.getTime()),this}last(e){return this.selectedGames=this.selectedGames.splice(-e),this}allGamesOfTeam(e){return this.selectedGames=this.selectedGames.filter(t=>t.teams.away.team.id===e||t.teams.home.team.id===e),this}homeGamesOfTeam(e){return this.selectedGames=this.selectedGames.filter(t=>t.teams.home.team.id===e),this}awayGamesOfTeam(e){return this.selectedGames=this.selectedGames.filter(t=>t.teams.away.team.id===e),this}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.teamHasWonGame=function(e,t){return t.teams.away.team.id===e?t.teams.away.score>t.teams.home.score:t.teams.away.score<t.teams.home.score}},,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(1),s=a(0),o=a(3),i=a(0),r=a(2);let l,c,h,d,m;function g(){const e=document.getElementById("details-table"),t=c.teamStats[0].splits[0].stat,a=h.teamStats[0].splits[0].stat;e.innerHTML="",e.appendChild(i.createTr([c.abbreviation,"@",h.abbreviation],{highlight:!1,type:"th"})),e.appendChild(i.createTr(["Regular Season"],{highlight:!1,type:"th",colspan:3})),e.appendChild(i.createTr([t.gamesPlayed,"Games Played",a.gamesPlayed],{highlight:!1})),e.appendChild(i.createTr([t.wins,"Wins",a.wins])),e.appendChild(i.createTr([t.losses,"Losses",a.losses],{invertHighlight:!0})),e.appendChild(i.createTr([t.ot,"OT",a.ot],{highlight:!1})),e.appendChild(i.createTr([t.ptPctg,"Point %",a.ptPctg])),e.appendChild(i.createTr([" "," "," "])),e.appendChild(i.createTr([t.goalsPerGame,"Goals per Game",a.goalsPerGame])),e.appendChild(i.createTr([t.powerPlayPercentage,"PP%",a.powerPlayPercentage])),e.appendChild(i.createTr([t.penaltyKillPercentage,"PK%",a.penaltyKillPercentage])),e.appendChild(i.createTr([" "," "," "])),e.appendChild(i.createTr([Math.round(t.shotsPerGame),"Shots per Game",Math.round(a.shotsPerGame)])),e.appendChild(i.createTr([t.shootingPctg,"Shooting %",a.shootingPctg])),e.appendChild(i.createTr([Math.round(t.shotsAllowed),"Shots Against",Math.round(a.shotsAllowed)],{invertHighlight:!0})),e.appendChild(i.createTr([t.savePctg,"Save %",a.savePctg])),e.appendChild(i.createTr([" "," "," "]))}function u(){const e=document.getElementById("details-table"),t=d.final().ofPastDays(14).select(),a=m.final().ofPastDays(14).select(),s=d.final().last(5).select(),o=m.final().last(5).select();e.innerHTML="",e.appendChild(i.createTr([c.abbreviation,"@",h.abbreviation],{highlight:!1,type:"th"})),e.appendChild(i.createTr(["Past 2 Weeks"],{highlight:!1,type:"th",colspan:3})),e.appendChild(i.createTr([p(t,c.id),"Record",p(a,h.id)],{highlight:!1}));const r=i.createTr(["","Last 5 Record",""],{highlight:!1});r.classList.add("last-five"),r.children[0].appendChild(y(s,c.id)),r.children[2].appendChild(y(o,h.id)),e.appendChild(r),e.appendChild(function(e,t){const a=i.createTr([""],{highlight:!1,colspan:3}),s=new Date((new Date).getTime()-6048e5),o=[];for(;s.getTime()<=(new Date).getTime();)o.push(new Date(s)),s.setTime(s.getTime()+864e5);var r=document.createElement("canvas");window.screen.width<1e3?r.width=1:r.width=3;r.height=1,r.style.width="100%",a.children[0].appendChild(r),console.log(o);new Chart(r.getContext("2d"),{type:"bar",data:{labels:o.map(e=>e.toLocaleDateString("ch-de").slice(0,-5)),datasets:[{label:c.teamName,backgroundColor:n.TEAM_COLORS[c.name].away,data:f(c.id,e,o),barLabel:A(c.id,e,o)},{label:h.teamName,backgroundColor:n.TEAM_COLORS[h.name].home,data:f(h.id,t,o),barLabel:A(h.id,t,o)}]},options:{title:{text:"Goal diff. (Past 7 Days)",display:!0},tooltips:{enabled:!1},scales:{yAxes:[{ticks:{stepSize:1,min:-6,max:6}}]},animation:{onComplete:function(){var e=this.chart,t=e.ctx;t.font="bold 10pt Consolas",t.fillStyle="black",t.textAlign="center";this.data.datasets.forEach(function(a,n){var s=e.controller.getDatasetMeta(n);s.data.forEach(function(e,n){var s=a.data[n],o=a.barLabel[n];0!==s&&o&&(t.save(),t.translate(e._model.x-8,e._model.y+11*s),t.rotate(-Math.PI/2),t.fillText(o,0,0),t.restore())})})}}}});return a}(d.final().ofPastDays(7).select(),m.final().ofPastDays(7).select()))}function p(e,t){let a=0,n=0;return e.forEach(e=>o.teamHasWonGame(t,e)?a+=1:n+=1),`${a}-${n}`}function y(e,t){const a=document.createElement("div");return e.forEach(e=>{const n=document.createElement("div");n.classList.add("box"),o.teamHasWonGame(t,e)?(n.classList.add("box-win"),n.innerHTML="W"):(n.classList.add("box-loss"),n.innerHTML="L"),a.appendChild(n)}),a}function f(e,t,a){const n=[],s=[];return a.forEach(e=>{const a=t.find(t=>`${new Date(t.gameDate).getDate()}-${new Date(t.gameDate).getMonth()}`===`${e.getDate()}-${e.getMonth()}`);a?n.push(a):n.push(void 0)}),n.forEach(t=>t?s.push(function(e,t){return e.teams.away.team.id===t?e.teams.away.score-e.teams.home.score:e.teams.home.score-e.teams.away.score}(t,e)):s.push(0)),s}function A(e,t,a){const s=[],o=[];return a.forEach(e=>{const a=t.find(t=>`${new Date(t.gameDate).getDate()}-${new Date(t.gameDate).getMonth()}`===`${e.getDate()}-${e.getMonth()}`);a?s.push(a):s.push(void 0)}),s.forEach(t=>{t?t.teams.away.team.id===e?o.push(`@ ${n.TEAM_NAME_SHORT[t.teams.home.team.name]}`):o.push(`vs. ${n.TEAM_NAME_SHORT[t.teams.away.team.name]}`):o.push(void 0)}),o}window.onload=(()=>{document.body.appendChild(s.getLoadingIcon(!0)),document.getElementById("display-stats").onclick=g,document.getElementById("display-last-ten").onclick=u;const e=window.location.href.split("?")[1];e&&e.startsWith("id")&&function(e){return n.getGame(e).then(e=>l=e.gameData).then(()=>n.getTeam(l.teams.away.id)).then(e=>c=e.teams[0]).then(()=>n.getTeam(l.teams.home.id)).then(e=>h=e.teams[0]).then(()=>n.getSchedule(l.teams.away.id,n.SEASON_START,n.SEASON_END)).then(e=>d=new r.GameArrayHelper(e.dates)).then(()=>n.getSchedule(l.teams.home.id,n.SEASON_START,n.SEASON_END)).then(e=>m=new r.GameArrayHelper(e.dates))}(e.substring(3)).then(()=>(document.getElementById("details").style.display="block",document.getElementById("away-logo").src=`./images/${c.id}.gif`,document.getElementById("home-logo").src=`./images/${h.id}.gif`,void g())).then(()=>s.removeLoadingIcon())})}]);